{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\YUVRAJ\\\\OneDrive\\\\Desktop\\\\archdo_ai_eth\\\\frontend\\\\src\\\\context\\\\Web3Context.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useState, useEffect, useCallback } from 'react';\nimport { Web3 } from 'web3';\nimport { toast } from 'react-toastify';\n\n// Import contract ABIs and addresses\nimport contractAddresses from '../contracts/addresses.json';\nimport RealEstateTokenABI from '../contracts/RealEstateToken.json';\nimport IdentityRegistryABI from '../contracts/IdentityRegistry.json';\nimport ComplianceABI from '../contracts/Compliance.json';\nimport LeaseManagerABI from '../contracts/LeaseManager.json';\nimport MockERC20ABI from '../contracts/MockERC20.json';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Web3Context = /*#__PURE__*/createContext();\nexport const useWeb3 = () => {\n  _s();\n  const context = useContext(Web3Context);\n  if (!context) {\n    throw new Error('useWeb3 must be used within a Web3Provider');\n  }\n  return context;\n};\n_s(useWeb3, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nexport const Web3Provider = ({\n  children\n}) => {\n  _s2();\n  const [web3, setWeb3] = useState(null);\n  const [account, setAccount] = useState('');\n  const [chainId, setChainId] = useState(null);\n  const [isConnected, setIsConnected] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [contracts, setContracts] = useState({});\n  const [balances, setBalances] = useState({\n    eth: '0',\n    tokens: '0',\n    usdc: '0'\n  });\n\n  // Check if MetaMask is installed\n  const isMetaMaskInstalled = () => {\n    return typeof window !== 'undefined' && typeof window.ethereum !== 'undefined';\n  };\n\n  // Initialize Web3 and contracts\n  const initializeWeb3 = useCallback(async () => {\n    if (!isMetaMaskInstalled()) {\n      toast.error('Please install MetaMask to use this dApp');\n      return;\n    }\n    try {\n      const web3Instance = new Web3(window.ethereum);\n      setWeb3(web3Instance);\n\n      // Initialize contracts\n      const realEstateToken = new web3Instance.eth.Contract(RealEstateTokenABI.abi, contractAddresses.realEstateToken);\n      const identityRegistry = new web3Instance.eth.Contract(IdentityRegistryABI.abi, contractAddresses.identityRegistry);\n      const compliance = new web3Instance.eth.Contract(ComplianceABI.abi, contractAddresses.compliance);\n      const leaseManager = new web3Instance.eth.Contract(LeaseManagerABI.abi, contractAddresses.leaseManager);\n      const mockUSDC = new web3Instance.eth.Contract(MockERC20ABI.abi, contractAddresses.mockUSDC);\n      setContracts({\n        realEstateToken,\n        identityRegistry,\n        compliance,\n        leaseManager,\n        mockUSDC\n      });\n      return web3Instance;\n    } catch (error) {\n      console.error('Error initializing Web3:', error);\n      toast.error('Failed to initialize Web3');\n      return null;\n    }\n  }, []);\n\n  // Connect wallet\n  const connectWallet = async () => {\n    if (!isMetaMaskInstalled()) {\n      toast.error('Please install MetaMask');\n      return;\n    }\n    setIsLoading(true);\n    try {\n      const web3Instance = await initializeWeb3();\n      if (!web3Instance) return;\n\n      // Request account access\n      const accounts = await window.ethereum.request({\n        method: 'eth_requestAccounts'\n      });\n      if (accounts.length === 0) {\n        toast.error('No accounts found');\n        return;\n      }\n      const account = accounts[0];\n      const chainId = await web3Instance.eth.getChainId();\n      setAccount(account);\n      setChainId(Number(chainId));\n      setIsConnected(true);\n\n      // Check if we're on the correct network (localhost:8545 = chainId 1337)\n      if (Number(chainId) !== 1337) {\n        toast.warning('Please switch to the local development network (chainId: 1337)');\n      }\n      toast.success('Wallet connected successfully!');\n    } catch (error) {\n      console.error('Error connecting wallet:', error);\n      toast.error('Failed to connect wallet');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Disconnect wallet\n  const disconnectWallet = () => {\n    setAccount('');\n    setChainId(null);\n    setIsConnected(false);\n    setBalances({\n      eth: '0',\n      tokens: '0',\n      usdc: '0'\n    });\n    toast.info('Wallet disconnected');\n  };\n\n  // Switch to local network\n  const switchToLocalNetwork = async () => {\n    if (!isMetaMaskInstalled()) return;\n    try {\n      await window.ethereum.request({\n        method: 'wallet_switchEthereumChain',\n        params: [{\n          chainId: '0x539'\n        }] // 1337 in hex\n      });\n    } catch (error) {\n      if (error.code === 4902) {\n        // Network doesn't exist, add it\n        try {\n          await window.ethereum.request({\n            method: 'wallet_addEthereumChain',\n            params: [{\n              chainId: '0x539',\n              chainName: 'Localhost 8545',\n              nativeCurrency: {\n                name: 'ETH',\n                symbol: 'ETH',\n                decimals: 18\n              },\n              rpcUrls: ['http://127.0.0.1:8545'],\n              blockExplorerUrls: null\n            }]\n          });\n        } catch (addError) {\n          console.error('Error adding network:', addError);\n          toast.error('Failed to add local network');\n        }\n      } else {\n        console.error('Error switching network:', error);\n        toast.error('Failed to switch network');\n      }\n    }\n  };\n\n  // Update balances\n  const updateBalances = useCallback(async () => {\n    if (!web3 || !account || !contracts.realEstateToken || !contracts.mockUSDC) return;\n    try {\n      // ETH balance\n      const ethBalance = await web3.eth.getBalance(account);\n      const ethBalanceFormatted = web3.utils.fromWei(ethBalance, 'ether');\n\n      // Token balance\n      const tokenBalance = await contracts.realEstateToken.methods.balanceOf(account).call();\n      const tokenBalanceFormatted = web3.utils.fromWei(tokenBalance, 'ether');\n\n      // USDC balance\n      const usdcBalance = await contracts.mockUSDC.methods.balanceOf(account).call();\n      const usdcBalanceFormatted = web3.utils.fromWei(usdcBalance, 'mwei'); // USDC has 6 decimals\n\n      setBalances({\n        eth: parseFloat(ethBalanceFormatted).toFixed(4),\n        tokens: parseFloat(tokenBalanceFormatted).toFixed(4),\n        usdc: parseFloat(usdcBalanceFormatted).toFixed(2)\n      });\n    } catch (error) {\n      console.error('Error updating balances:', error);\n    }\n  }, [web3, account, contracts]);\n\n  // Check if user is verified (has KYC)\n  const isUserVerified = useCallback(async (userAddress = account) => {\n    if (!contracts.identityRegistry || !userAddress) return false;\n    try {\n      const result = await contracts.identityRegistry.methods.isVerified(userAddress).call();\n      return result;\n    } catch (error) {\n      console.error('Error checking verification status:', error);\n      // If the user is the deployer account, consider them verified by default\n      if (userAddress && userAddress.toLowerCase() === '0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266') {\n        return true;\n      }\n      return false;\n    }\n  }, [contracts.identityRegistry, account]);\n\n  // Register user identity (mock KYC)\n  const registerIdentity = async (countryCode = 840) => {\n    // Default to USA\n    if (!contracts.identityRegistry || !account) return;\n    try {\n      setIsLoading(true);\n      const tx = await contracts.identityRegistry.methods.registerIdentity(account, account, countryCode).send({\n        from: account\n      });\n      toast.success('Identity registered successfully!');\n      return tx;\n    } catch (error) {\n      console.error('Error registering identity:', error);\n      toast.error('Failed to register identity');\n      throw error;\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Handle account changes\n  useEffect(() => {\n    if (!isMetaMaskInstalled()) return;\n    const handleAccountsChanged = accounts => {\n      if (accounts.length === 0) {\n        disconnectWallet();\n      } else if (accounts[0] !== account) {\n        setAccount(accounts[0]);\n        toast.info('Account changed');\n      }\n    };\n    const handleChainChanged = chainId => {\n      setChainId(Number(chainId));\n      if (Number(chainId) !== 1337) {\n        toast.warning('Please switch to the local development network');\n      }\n    };\n    window.ethereum.on('accountsChanged', handleAccountsChanged);\n    window.ethereum.on('chainChanged', handleChainChanged);\n    return () => {\n      if (window.ethereum.removeListener) {\n        window.ethereum.removeListener('accountsChanged', handleAccountsChanged);\n        window.ethereum.removeListener('chainChanged', handleChainChanged);\n      }\n    };\n  }, [account]);\n\n  // Update balances when account or contracts change\n  useEffect(() => {\n    if (isConnected && account) {\n      updateBalances();\n      const interval = setInterval(updateBalances, 10000); // Update every 10 seconds\n      return () => clearInterval(interval);\n    }\n  }, [isConnected, account, updateBalances]);\n\n  // Initialize on mount\n  useEffect(() => {\n    if (isMetaMaskInstalled()) {\n      initializeWeb3();\n    }\n  }, [initializeWeb3]);\n  const value = {\n    web3,\n    account,\n    chainId,\n    isConnected,\n    isLoading,\n    contracts,\n    balances,\n    connectWallet,\n    disconnectWallet,\n    switchToLocalNetwork,\n    updateBalances,\n    isUserVerified,\n    registerIdentity,\n    isMetaMaskInstalled: isMetaMaskInstalled()\n  };\n  return /*#__PURE__*/_jsxDEV(Web3Context.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 316,\n    columnNumber: 5\n  }, this);\n};\n_s2(Web3Provider, \"DM+W6YUjSS80mIb7ttNp328a9k4=\");\n_c = Web3Provider;\nvar _c;\n$RefreshReg$(_c, \"Web3Provider\");","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","useCallback","Web3","toast","contractAddresses","RealEstateTokenABI","IdentityRegistryABI","ComplianceABI","LeaseManagerABI","MockERC20ABI","jsxDEV","_jsxDEV","Web3Context","useWeb3","_s","context","Error","Web3Provider","children","_s2","web3","setWeb3","account","setAccount","chainId","setChainId","isConnected","setIsConnected","isLoading","setIsLoading","contracts","setContracts","balances","setBalances","eth","tokens","usdc","isMetaMaskInstalled","window","ethereum","initializeWeb3","error","web3Instance","realEstateToken","Contract","abi","identityRegistry","compliance","leaseManager","mockUSDC","console","connectWallet","accounts","request","method","length","getChainId","Number","warning","success","disconnectWallet","info","switchToLocalNetwork","params","code","chainName","nativeCurrency","name","symbol","decimals","rpcUrls","blockExplorerUrls","addError","updateBalances","ethBalance","getBalance","ethBalanceFormatted","utils","fromWei","tokenBalance","methods","balanceOf","call","tokenBalanceFormatted","usdcBalance","usdcBalanceFormatted","parseFloat","toFixed","isUserVerified","userAddress","result","isVerified","toLowerCase","registerIdentity","countryCode","tx","send","from","handleAccountsChanged","handleChainChanged","on","removeListener","interval","setInterval","clearInterval","value","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/YUVRAJ/OneDrive/Desktop/archdo_ai_eth/frontend/src/context/Web3Context.js"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect, useCallback } from 'react';\r\nimport { Web3 } from 'web3';\r\nimport { toast } from 'react-toastify';\r\n\r\n// Import contract ABIs and addresses\r\nimport contractAddresses from '../contracts/addresses.json';\r\nimport RealEstateTokenABI from '../contracts/RealEstateToken.json';\r\nimport IdentityRegistryABI from '../contracts/IdentityRegistry.json';\r\nimport ComplianceABI from '../contracts/Compliance.json';\r\nimport LeaseManagerABI from '../contracts/LeaseManager.json';\r\nimport MockERC20ABI from '../contracts/MockERC20.json';\r\n\r\nconst Web3Context = createContext();\r\n\r\nexport const useWeb3 = () => {\r\n  const context = useContext(Web3Context);\r\n  if (!context) {\r\n    throw new Error('useWeb3 must be used within a Web3Provider');\r\n  }\r\n  return context;\r\n};\r\n\r\nexport const Web3Provider = ({ children }) => {\r\n  const [web3, setWeb3] = useState(null);\r\n  const [account, setAccount] = useState('');\r\n  const [chainId, setChainId] = useState(null);\r\n  const [isConnected, setIsConnected] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [contracts, setContracts] = useState({});\r\n  const [balances, setBalances] = useState({\r\n    eth: '0',\r\n    tokens: '0',\r\n    usdc: '0'\r\n  });\r\n\r\n  // Check if MetaMask is installed\r\n  const isMetaMaskInstalled = () => {\r\n    return typeof window !== 'undefined' && typeof window.ethereum !== 'undefined';\r\n  };\r\n\r\n  // Initialize Web3 and contracts\r\n  const initializeWeb3 = useCallback(async () => {\r\n    if (!isMetaMaskInstalled()) {\r\n      toast.error('Please install MetaMask to use this dApp');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const web3Instance = new Web3(window.ethereum);\r\n      setWeb3(web3Instance);\r\n\r\n      // Initialize contracts\r\n      const realEstateToken = new web3Instance.eth.Contract(\r\n        RealEstateTokenABI.abi,\r\n        contractAddresses.realEstateToken\r\n      );\r\n\r\n      const identityRegistry = new web3Instance.eth.Contract(\r\n        IdentityRegistryABI.abi,\r\n        contractAddresses.identityRegistry\r\n      );\r\n\r\n      const compliance = new web3Instance.eth.Contract(\r\n        ComplianceABI.abi,\r\n        contractAddresses.compliance\r\n      );\r\n\r\n      const leaseManager = new web3Instance.eth.Contract(\r\n        LeaseManagerABI.abi,\r\n        contractAddresses.leaseManager\r\n      );\r\n\r\n      const mockUSDC = new web3Instance.eth.Contract(\r\n        MockERC20ABI.abi,\r\n        contractAddresses.mockUSDC\r\n      );\r\n\r\n      setContracts({\r\n        realEstateToken,\r\n        identityRegistry,\r\n        compliance,\r\n        leaseManager,\r\n        mockUSDC\r\n      });\r\n\r\n      return web3Instance;\r\n    } catch (error) {\r\n      console.error('Error initializing Web3:', error);\r\n      toast.error('Failed to initialize Web3');\r\n      return null;\r\n    }\r\n  }, []);\r\n\r\n  // Connect wallet\r\n  const connectWallet = async () => {\r\n    if (!isMetaMaskInstalled()) {\r\n      toast.error('Please install MetaMask');\r\n      return;\r\n    }\r\n\r\n    setIsLoading(true);\r\n    try {\r\n      const web3Instance = await initializeWeb3();\r\n      if (!web3Instance) return;\r\n\r\n      // Request account access\r\n      const accounts = await window.ethereum.request({\r\n        method: 'eth_requestAccounts',\r\n      });\r\n\r\n      if (accounts.length === 0) {\r\n        toast.error('No accounts found');\r\n        return;\r\n      }\r\n\r\n      const account = accounts[0];\r\n      const chainId = await web3Instance.eth.getChainId();\r\n\r\n      setAccount(account);\r\n      setChainId(Number(chainId));\r\n      setIsConnected(true);\r\n\r\n      // Check if we're on the correct network (localhost:8545 = chainId 1337)\r\n      if (Number(chainId) !== 1337) {\r\n        toast.warning('Please switch to the local development network (chainId: 1337)');\r\n      }\r\n\r\n      toast.success('Wallet connected successfully!');\r\n    } catch (error) {\r\n      console.error('Error connecting wallet:', error);\r\n      toast.error('Failed to connect wallet');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  // Disconnect wallet\r\n  const disconnectWallet = () => {\r\n    setAccount('');\r\n    setChainId(null);\r\n    setIsConnected(false);\r\n    setBalances({ eth: '0', tokens: '0', usdc: '0' });\r\n    toast.info('Wallet disconnected');\r\n  };\r\n\r\n  // Switch to local network\r\n  const switchToLocalNetwork = async () => {\r\n    if (!isMetaMaskInstalled()) return;\r\n\r\n    try {\r\n      await window.ethereum.request({\r\n        method: 'wallet_switchEthereumChain',\r\n        params: [{ chainId: '0x539' }], // 1337 in hex\r\n      });\r\n    } catch (error) {\r\n      if (error.code === 4902) {\r\n        // Network doesn't exist, add it\r\n        try {\r\n          await window.ethereum.request({\r\n            method: 'wallet_addEthereumChain',\r\n            params: [\r\n              {\r\n                chainId: '0x539',\r\n                chainName: 'Localhost 8545',\r\n                nativeCurrency: {\r\n                  name: 'ETH',\r\n                  symbol: 'ETH',\r\n                  decimals: 18,\r\n                },\r\n                rpcUrls: ['http://127.0.0.1:8545'],\r\n                blockExplorerUrls: null,\r\n              },\r\n            ],\r\n          });\r\n        } catch (addError) {\r\n          console.error('Error adding network:', addError);\r\n          toast.error('Failed to add local network');\r\n        }\r\n      } else {\r\n        console.error('Error switching network:', error);\r\n        toast.error('Failed to switch network');\r\n      }\r\n    }\r\n  };\r\n\r\n  // Update balances\r\n  const updateBalances = useCallback(async () => {\r\n    if (!web3 || !account || !contracts.realEstateToken || !contracts.mockUSDC) return;\r\n\r\n    try {\r\n      // ETH balance\r\n      const ethBalance = await web3.eth.getBalance(account);\r\n      const ethBalanceFormatted = web3.utils.fromWei(ethBalance, 'ether');\r\n\r\n      // Token balance\r\n      const tokenBalance = await contracts.realEstateToken.methods.balanceOf(account).call();\r\n      const tokenBalanceFormatted = web3.utils.fromWei(tokenBalance, 'ether');\r\n\r\n      // USDC balance\r\n      const usdcBalance = await contracts.mockUSDC.methods.balanceOf(account).call();\r\n      const usdcBalanceFormatted = web3.utils.fromWei(usdcBalance, 'mwei'); // USDC has 6 decimals\r\n\r\n      setBalances({\r\n        eth: parseFloat(ethBalanceFormatted).toFixed(4),\r\n        tokens: parseFloat(tokenBalanceFormatted).toFixed(4),\r\n        usdc: parseFloat(usdcBalanceFormatted).toFixed(2)\r\n      });\r\n    } catch (error) {\r\n      console.error('Error updating balances:', error);\r\n    }\r\n  }, [web3, account, contracts]);\r\n\r\n  // Check if user is verified (has KYC)\r\n  const isUserVerified = useCallback(async (userAddress = account) => {\r\n    if (!contracts.identityRegistry || !userAddress) return false;\r\n\r\n    try {\r\n      const result = await contracts.identityRegistry.methods.isVerified(userAddress).call();\r\n      return result;\r\n    } catch (error) {\r\n      console.error('Error checking verification status:', error);\r\n      // If the user is the deployer account, consider them verified by default\r\n      if (userAddress && userAddress.toLowerCase() === '0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266') {\r\n        return true;\r\n      }\r\n      return false;\r\n    }\r\n  }, [contracts.identityRegistry, account]);\r\n\r\n  // Register user identity (mock KYC)\r\n  const registerIdentity = async (countryCode = 840) => { // Default to USA\r\n    if (!contracts.identityRegistry || !account) return;\r\n\r\n    try {\r\n      setIsLoading(true);\r\n      const tx = await contracts.identityRegistry.methods\r\n        .registerIdentity(account, account, countryCode)\r\n        .send({ from: account });\r\n      \r\n      toast.success('Identity registered successfully!');\r\n      return tx;\r\n    } catch (error) {\r\n      console.error('Error registering identity:', error);\r\n      toast.error('Failed to register identity');\r\n      throw error;\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  // Handle account changes\r\n  useEffect(() => {\r\n    if (!isMetaMaskInstalled()) return;\r\n\r\n    const handleAccountsChanged = (accounts) => {\r\n      if (accounts.length === 0) {\r\n        disconnectWallet();\r\n      } else if (accounts[0] !== account) {\r\n        setAccount(accounts[0]);\r\n        toast.info('Account changed');\r\n      }\r\n    };\r\n\r\n    const handleChainChanged = (chainId) => {\r\n      setChainId(Number(chainId));\r\n      if (Number(chainId) !== 1337) {\r\n        toast.warning('Please switch to the local development network');\r\n      }\r\n    };\r\n\r\n    window.ethereum.on('accountsChanged', handleAccountsChanged);\r\n    window.ethereum.on('chainChanged', handleChainChanged);\r\n\r\n    return () => {\r\n      if (window.ethereum.removeListener) {\r\n        window.ethereum.removeListener('accountsChanged', handleAccountsChanged);\r\n        window.ethereum.removeListener('chainChanged', handleChainChanged);\r\n      }\r\n    };\r\n  }, [account]);\r\n\r\n  // Update balances when account or contracts change\r\n  useEffect(() => {\r\n    if (isConnected && account) {\r\n      updateBalances();\r\n      const interval = setInterval(updateBalances, 10000); // Update every 10 seconds\r\n      return () => clearInterval(interval);\r\n    }\r\n  }, [isConnected, account, updateBalances]);\r\n\r\n  // Initialize on mount\r\n  useEffect(() => {\r\n    if (isMetaMaskInstalled()) {\r\n      initializeWeb3();\r\n    }\r\n  }, [initializeWeb3]);\r\n\r\n  const value = {\r\n    web3,\r\n    account,\r\n    chainId,\r\n    isConnected,\r\n    isLoading,\r\n    contracts,\r\n    balances,\r\n    connectWallet,\r\n    disconnectWallet,\r\n    switchToLocalNetwork,\r\n    updateBalances,\r\n    isUserVerified,\r\n    registerIdentity,\r\n    isMetaMaskInstalled: isMetaMaskInstalled()\r\n  };\r\n\r\n  return (\r\n    <Web3Context.Provider value={value}>\r\n      {children}\r\n    </Web3Context.Provider>\r\n  );\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}